<div class="view_container">
  <h1 class="content_headline">Add a Product</h1>
  <div class="add_info_sub_header">
    <div class="wizards_save_draft_butt">Save Draft</div>
    <div class="wizards_delete_butt">Delete</div>
  </div>
  <div class="add_info_block">
    <div class="add_info_header">
      <div class="add_info_title">Select Operation</div>
      <div class="add_info_colapse_butt operation_box"></div>
    </div>
    <div class="add_info_content_block">
      <div class="add_info_form_block operation_box">
        <div class="add_info_form_w">
          <dl class="form_cell form_cell_v1_mod">
            <dt class="form_c_hline form_v1_mod hline_hide_mod autocomplete_el_v1_mod">
              <label for="Enter_name_of_category">Enter name of category</label>
            </dt>
            <dd class="form_c_f_w form_v1_mod hline_hide_mod autocomplete_el_v1_mod">
              <ui-select id="operations_list" ng-model="operation.selected" theme="selectize" on-select="getAssociatedProducts($item, $model)">
                <ui-select-match placeholder="Select an operation in the list or search his name...">{{$select.selected.name}}</ui-select-match>
                <ui-select-choices repeat="operation in operations |  filter: $select.search">
                  <div ng-bind-html="operation.name | highlight: $select.search"></div>
                </ui-select-choices>
              </ui-select>
            </dd>
          </dl>
        </div>
      </div>
    </div>
  </div>
  <div class="add_info_block" ng-show='operation.selected.name'>
    <div class="add_info_header">
      <div class="add_info_title">Product category</div>
      <div class="add_info_colapse_butt"></div>
    </div>
    <div class="add_info_content_block">
      <div class="add_info_form_block">
        <div class="add_info_form_w">
          <dl class="form_cell form_cell_v1_mod">
            <dt class="form_c_hline form_v1_mod hline_hide_mod autocomplete_el_v1_mod">
              <label for="Enter_name_of_category">Select Product Category</label>
            </dt>
            <dd class="form_c_f_w form_v1_mod hline_hide_mod autocomplete_el_v1_mod">
              <select id="product_categories" ng-model="product_categories" data-placeholder="Select Product Category" multiple="multiple" class="f_c_field default_mod select_add_category normal_list_v2"
                  ng-options="opt as opt.name for opt in categories track by opt.id" >
              </select>
            </dd>
          </dl>
          <dl class="form_cell form_cell_v1_mod select_add_product hidden_field" style="display: none">
            <dt class="form_c_hline form_v1_mod hline_hide_mod autocomplete_el_v1_mod">
              <label for="Enter_name_of_category">Select Products</label>
            </dt>
            <dd class="form_c_f_w form_v1_mod hline_hide_mod autocomplete_el_v1_mod">
              <select id="products" ng-model="category_products" data-placeholder="Select Products" multiple="multiple" class="f_c_field default_mod select_add_category normal_list_v2"
                  ng-options="opt as opt.name group by opt.product_category for opt in products track by opt.id | orderBy:'product_category'" >
              </select>
            </dd>
          </dl>
          <div class="category_wrap">
            <div ng-repeat="list in selected_list">
              <h2 ng-if="list.value.length > 0" class="category_hline">{{list.name}}</h2>
              <ul ng-if="list.value.length > 0" class="category_list">
                <li class="category_list_item" ng-repeat="product in list.value">
                  <label class="lbl_rb_ch_block lbl_rb_ch_default_mod">
                    <input name="Example" type="checkbox" checked="true" class="lbl_inp_rb_ch" ng-click="deselect($event)"><span class="lbl_rb_ch_text lbl_rb_ch_t_default_mod lbl_rb_ch_t_default_green_grey_mod">{{product.name}}</span>
                  </label>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="butt_wrap add_info_form_mod">
          <div class="butt_cancel">Cancel</div>
          <div class="butt_save" ng-click="saveProducts()">Save</div>
        </div>
      </div>
    </div>
  </div>
</div>